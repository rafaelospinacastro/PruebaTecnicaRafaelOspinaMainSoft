@page "/CrearLibro"
@using PruebaDoubleV.Shared
<div class="container">
    <h3>Crear Libro</h3>
</div>
<div class="container contenedor-subtitle">
    <div class="row">
        <div class="col-md-6" style="float:right;margin-right:25px;">
            <label>@mensaje</label>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3" style="float:right;margin-right:25px;">
            <label>ISBN</label>
        </div>
        <div class="col-md-8">
            <div class="input-group input-group-sm">
                <span style="color:red">*</span>
                <input class="form-control form-control-sm" placeholder="Digite el ISBN" @bind-value="@persona.ISBN" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3" style="float:right;margin-right:25px;">
            <label>Numero de paginas</label>
        </div>
        <div class="col-md-8">
            <div class="input-group input-group-sm">
                <span style="color:red">*</span>
                <input class="form-control form-control-sm" placeholder="Digite el numero de paginas" @bind-value="@persona.NPaginas" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3" style="float:right;margin-right:25px;">
            <label>Sinopsis</label>
        </div>
        <div class="col-md-8">
            <div class="input-group input-group-sm">
                <span style="color:red">*</span>
                <input class="form-control form-control-sm" placeholder="Digite la sinopsis" @bind-value="@persona.Sinopsis" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3" style="float:right;margin-right:25px;">
            <label>Titulo</label>
        </div>
        <div class="col-md-8">
            <div class="input-group input-group-sm">
                <span style="color:red">*</span>
                <input class="form-control form-control-sm" placeholder="Digite el titulo" @bind-value="@persona.Titulo" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3" style="float:right;margin-right:25px;">
            <label>Editorial</label>
        </div>
        <div class="col-md-8">
            <div class="input-group input-group-sm">
                <span style="color:red">*</span>
                <input class="form-control form-control-sm" placeholder="Digite el codigo de la editorial" @bind-value="@persona.EditorialesId" />
            </div>
        </div>
    </div>
    <div class="row"><br /><br /></div>
    <div class="row">
        <div class="col-md-3" style="float:right;margin-right:25px;">
            <button class="btn btn-primary btn-sm" style="float:right" @onclick="Grabar">
                <span class="fas fa-save"></span> Guardar
            </button>
        </div>
        <div class="col-md-8">

        </div>
    </div>
</div>
@code{

    [Inject] HttpClient Http { get; set; }
    public LibroDTO.LibroRequest persona = new LibroDTO.LibroRequest();
    public string mensaje = "";
    private async Task Grabar()
    {
        mensaje = "Se guardo el registro con exito";
        var devol = await Http.PostAsJsonAsync("Libro", persona);
        if (devol.IsSuccessStatusCode)
        {
            mensaje = "Se guardo el registro con exito";
        }
        else
        {
            mensaje = "Hubo un problema al guardar";
        }
    }

    protected async override void OnParametersSet()
    {

    }



}


